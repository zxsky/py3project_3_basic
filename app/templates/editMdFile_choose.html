{% extends "base.html" %}

{% block header %}
    <div class="masthead clearfix">
    <div class="inner">
      <h5 class="masthead-brand">ECE1779-Assignment3 Choose Project and date</h5>
      <nav>
        <ul class="nav masthead-nav">
            <li class="active"><a href="{{ url_for('profile',username = session['username']) }}">Back to homepage</a></li>
            <li class="active"><a href="{{ url_for('logout') }}">Logout</a></li>
        </ul>
      </nav>
    </div>
    </div>
{% endblock %}

{% block content %}
    <div class="row justify-content-center">
        <div class="col-md-2">
            <form action="{{ url_for('checkExist')}}" onSubmit="return checkEmpty(form)" name="form">

                <label>Project Date:</label>&nbsp;&nbsp;
                <input id="datepicker" type="text" name="dateChosen" class="form-control"/>
                <script type="text/javascript">
                $(function(){
                    $( '#datepicker' ).datepicker();
                });
                </script>

            <br>
            <br>

                <label>Project Name:</label>&nbsp;&nbsp;
                <input
               class='flexdatalist form-control'
               data-min-length='0'
               data-selection-required='true'
               list='projects'
               placeholder='Type to choose'
               name='projectChosen'
               value="{% if project_name %}{{ project_name }}{% endif %}"
               type='text'
    {#           value="{% if project_list  %}{{ project_list[-1] }}{% endif %}"#}
{#                onchange="this.form.submit()"#}
                />
                <datalist id="projects">
                {% if project_list   %}
                    {% for proj in project_list %}
                        <option value={{ proj }}>{{ proj }}</option>
                    {% endfor %}
                {% endif %}
                </datalist>
                <script type="text/javascript">
                    $('.flexdatalist').flexdatalist({
                         selectionRequired: true,
                         minLength: 0
                    });
                </script>

            <br>
            <br>

                <input type="submit" class="btn btn-lg btn-default" value="Edit" id="savebutton"/>
            </form>

        <script type="text/javascript">
            function checkEmpty(form){
                for(i=0;i<form.length;i++){
                    if(form.elements[i].value==""){
                    alert("You left something blank!");
                    return false;
                    }
                }
            }
        </script>
        </div>
    </div>
{% endblock %}